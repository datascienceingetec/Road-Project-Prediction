{
  "info": {
    "name": "Road Project Prediction API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_postman_id": "a1b2c3d4-e5f6-7890-a1b2-c3d4e5f67890",
    "description": "API para la gestión de proyectos viales y predicción de costos"
  },
  "item": [
    {
      "name": "Proyectos",
      "description": "Endpoints para la gestión de proyectos viales",
      "item": [
        {
          "name": "Listar proyectos",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/proyectos",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "proyectos"]
            },
            "description": "Obtiene la lista de todos los proyectos"
          }
        },
        {
          "name": "Obtener proyecto por ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/proyectos/id/{{proyecto_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "proyectos", "id", "{{proyecto_id}}"]
            },
            "description": "Obtiene un proyecto por su ID"
          }
        },
        {
          "name": "Obtener proyecto por código",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/proyectos/{{codigo_proyecto}}",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "proyectos", "{{codigo_proyecto}}"]
            },
            "description": "Obtiene un proyecto por su código único"
          }
        },
        {
          "name": "Crear proyecto",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"codigo\": \"{{codigo_proyecto}}\",\n    \"nombre\": \"Nuevo Proyecto\",\n    \"fase_id\": 1,\n    \"anio_inicio\": 2025,\n    \"duracion\": 12,\n    \"longitud\": 10.5,\n    \"ubicacion\": \"Ubicación del proyecto\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/proyectos",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "proyectos"]
            },
            "description": "Crea un nuevo proyecto"
          }
        },
        {
          "name": "Actualizar proyecto",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"nombre\": \"Nombre Actualizado\",\n    \"duracion\": 24,\n    \"ubicacion\": \"Ubicación actualizada\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/proyectos/{{codigo_proyecto}}",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "proyectos", "{{codigo_proyecto}}"]
            },
            "description": "Actualiza un proyecto existente por su código"
          }
        },
        {
          "name": "Eliminar proyecto",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/proyectos/{{proyecto_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "proyectos", "{{proyecto_id}}"]
            },
            "description": "Elimina un proyecto por su ID"
          }
        },
        {
          "name": "Obtener unidades funcionales",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/proyectos/{{codigo_proyecto}}/unidades-funcionales",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "proyectos", "{{codigo_proyecto}}", "unidades-funcionales"]
            },
            "description": "Obtiene las unidades funcionales de un proyecto"
          }
        },
        {
          "name": "Obtener costos del proyecto",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/proyectos/{{codigo_proyecto}}/costos",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "proyectos", "{{codigo_proyecto}}", "costos"]
            },
            "description": "Obtiene los costos de un proyecto"
          }
        },
        {
          "name": "Actualizar costos del proyecto",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "[\n    {\n        \"item_tipo_id\": 1,\n        \"valor\": 1000.50\n    },\n    {\n        \"item_tipo_id\": 2,\n        \"valor\": 2000.75\n    }\n]",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/proyectos/{{codigo_proyecto}}/costos",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "proyectos", "{{codigo_proyecto}}", "costos"]
            },
            "description": "Crea o actualiza costos de un proyecto"
          }
        },
        {
          "name": "Actualizar costo específico",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"valor\": 1500.25\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/proyectos/{{codigo_proyecto}}/costos/{{costo_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "proyectos", "{{codigo_proyecto}}", "costos", "{{costo_id}}"]
            },
            "description": "Actualiza un costo específico de un proyecto"
          }
        },
        {
          "name": "Eliminar costo",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/proyectos/{{codigo_proyecto}}/costos/{{costo_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "proyectos", "{{codigo_proyecto}}", "costos", "{{costo_id}}"]
            },
            "description": "Elimina un costo específico de un proyecto"
          }
        }
      ]
    },
    {
      "name": "Unidades Funcionales",
      "description": "Endpoints para la gestión de unidades funcionales",
      "item": [
        {
          "name": "Obtener unidad funcional por ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/unidades-funcionales/{{unidad_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "unidades-funcionales", "{{unidad_id}}"]
            },
            "description": "Obtiene una unidad funcional por su ID"
          }
        },
        {
          "name": "Crear unidad funcional",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"proyecto_id\": {{proyecto_id}},\n    \"numero\": 1,\n    \"longitud_km\": 10.5,\n    \"puentes_vehiculares_und\": 2,\n    \"puentes_vehiculares_mt2\": 100,\n    \"puentes_peatonales_und\": 1,\n    \"puentes_peatonales_mt2\": 50,\n    \"tuneles_und\": 0,\n    \"tuneles_km\": 0,\n    \"alcance\": \"Alcance de la unidad\",\n    \"zona\": \"Zona de ubicación\",\n    \"tipo_terreno\": \"Tipo de terreno\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/unidades-funcionales",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "unidades-funcionales"]
            },
            "description": "Crea una nueva unidad funcional"
          }
        },
        {
          "name": "Actualizar unidad funcional",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"numero\": 1,\n    \"longitud_km\": 12.5,\n    \"alcance\": \"Alcance actualizado\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/unidades-funcionales/{{unidad_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "unidades-funcionales", "{{unidad_id}}"]
            },
            "description": "Actualiza una unidad funcional existente"
          }
        },
        {
          "name": "Eliminar unidad funcional",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/unidades-funcionales/{{unidad_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "unidades-funcionales", "{{unidad_id}}"]
            },
            "description": "Elimina una unidad funcional por su ID"
          }
        }
      ]
    },
    {
      "name": "Fases",
      "description": "Endpoints para la gestión de fases",
      "item": [
        {
          "name": "Listar fases",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/fases",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "fases"]
            },
            "description": "Obtiene la lista de todas las fases"
          }
        },
        {
          "name": "Obtener fase por ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/fases/{{id_fase}}",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "fases", "{{id_fase}}"]
            }
          }
        },
        {
          "name": "Obtener items de una fase",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/fases/{{id_fase}}/items",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "fases", "{{id_fase}}", "items"]
            }
          }
        },
        {
          "name": "Crear fase",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"nombre\": \"Fase de Ejemplo\",\n    \"descripcion\": \"Descripción de la fase\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/fases/",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "fases", ""]
            }
          }
        },
        {
          "name": "Actualizar fase",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"nombre\": \"Fase Actualizada\",\n    \"descripcion\": \"Nueva descripción\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/fases/{{id_fase}}",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "fases", "{{id_fase}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Items",
      "item": [
        {
          "name": "Obtener todos los items",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/items/",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "items", ""]
            }
          }
        },
        {
          "name": "Buscar items",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/items/search?q=transporte",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "items", "search"],
              "query": [
                { "key": "q", "value": "transporte" }
              ]
            }
          }
        },
        {
          "name": "Obtener item por ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/items/{{id_item}}",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "items", "{{id_item}}"]
            }
          }
        },
        {
          "name": "Crear item",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"nombre\": \"Nuevo Item\",\n    \"descripcion\": \"Descripción del nuevo item\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/items/",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "items", ""]
            }
          }
        },
        {
          "name": "Actualizar item",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"nombre\": \"Item Actualizado\",\n    \"descripcion\": \"Nueva descripción\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/items/{{id_item}}",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "items", "{{id_item}}"]
            }
          }
        },
        {
          "name": "Eliminar item",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/items/{{id_item}}",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "items", "{{id_item}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Enums",
      "item": [
        {
          "name": "Obtener todos los enums",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/enums/",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "enums", ""]
            }
          }
        },
        {
          "name": "Obtener opciones de Alcance",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/enums/alcance",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "enums", "alcance"]
            }
          }
        },
        {
          "name": "Obtener opciones de Zona",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/enums/zona",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "enums", "zona"]
            }
          }
        },
        {
          "name": "Obtener opciones de Tipo de Terreno",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/enums/tipo-terreno",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "enums", "tipo-terreno"]
            }
          }
        },
        {
          "name": "Obtener opciones de Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/enums/status",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "enums", "status"]
            }
          }
        }
      ]
    },
    {
      "name": "Charts",
      "item": [
        {
          "name": "Valor Presente de Causación",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/charts/valor-presente-causacion?fase_id={{id_fase}}&present_year=2025&alcance=",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "charts", "valor-presente-causacion"],
              "query": [
                { "key": "fase_id", "value": "{{id_fase}}", "description": "ID de la fase (opcional)" },
                { "key": "present_year", "value": "2025", "description": "Año presente para cálculo VP (opcional, default: 2025)" },
                { "key": "alcance", "value": "", "description": "Tipo de alcance (opcional)" }
              ]
            },
            "description": "Obtiene datos para gráfico de dispersión que muestra la relación entre longitud del proyecto y valor presente de causación de personal"
          }
        },
        {
          "name": "Causación por Kilómetro",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/charts/causacion-por-km?fase_id={{id_fase}}&present_year=2025&alcance=",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "charts", "causacion-por-km"],
              "query": [
                { "key": "fase_id", "value": "{{id_fase}}", "description": "ID de la fase (opcional)" },
                { "key": "present_year", "value": "2025", "description": "Año presente para cálculo VP (opcional, default: 2025)" },
                { "key": "alcance", "value": "", "description": "Tipo de alcance (opcional)" }
              ]
            },
            "description": "Obtiene estadísticas de causación promedio por kilómetro, agrupadas por categoría (item) y tipo de alcance. Incluye datos para heatmap."
          }
        },
        {
          "name": "Comparación de Ítem",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/charts/item-comparison?item_tipo_id={{id_item}}&fase_id={{id_fase}}&present_year=2025",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "charts", "item-comparison"],
              "query": [
                {
                  "key": "item_tipo_id",
                  "value": "{{id_item}}",
                  "description": "ID del tipo de ítem a comparar (requerido)"
                },
                {
                  "key": "fase_id",
                  "value": "{{id_fase}}",
                  "description": "ID de la fase (opcional)"
                },
                {
                  "key": "present_year",
                  "value": "2025",
                  "description": "Año presente para cálculo VP (opcional, default: 2025)"
                }
              ]
            },
            "description": "Obtiene datos de comparación histórica de un ítem específico usando predictores adaptativos."
          }
        },
        {
          "name": "Ítem: Real vs Predicho",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/charts/item-real-vs-predicted?item_tipo_id={{id_item}}&fase_id={{id_fase}}&alcance=",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "charts", "item-real-vs-predicted"],
              "query": [
                {
                  "key": "item_tipo_id",
                  "value": "{{id_item}}",
                  "description": "ID del tipo de ítem (requerido)"
                },
                {
                  "key": "fase_id",
                  "value": "{{id_fase}}",
                  "description": "ID de la fase (requerido)"
                },
                {
                  "key": "alcance",
                  "value": "",
                  "description": "Tipo de alcance (opcional)"
                }
              ]
            },
            "description": "Devuelve la comparativa de valor real vs valor predicho para un ítem específico."
          }
        },
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/charts/health",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "charts", "health"]
            },
            "description": "Verifica el estado del servicio de charts"
          }
        }
      ]
    },
		{
			"name": "Predicción",
			"item": [
				{
					"name": "Obtener predicción de un proyecto",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"proyecto_nombre\": \"Nuevo Proyecto\",\n    \"fase_id\": {{id_fase}},\n    \"ubicacion\": \"Ciudad\",\n    \"unidades_funcionales\": [\n        {\n            \"numero\": 1,\n            \"longitud_km\": 10,\n            \"puentes_vehiculares_und\": 2,\n            \"puentes_vehiculares_mt2\": 100,\n            \"puentes_peatonales_und\": 1,\n            \"puentes_peatonales_mt2\": 50,\n            \"tuneles_und\": 0,\n            \"tuneles_km\": 0,\n            \"alcance\": \"Alcance 1\",\n            \"zona\": \"Zona 1\",\n            \"tipo_terreno\": \"Terreno 1\"\n        }\n    ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/{{api_version}}/predict",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"{{api_version}}",
								"predict"
							]
						}
					},
					"response": []
				},
				{
					"name": "Obtener payload de ejemplo",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{base_url}}/api/{{api_version}}/predict/example",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"{{api_version}}",
								"predict",
								"example"
							]
						}
					},
					"response": []
				},
        {
          "name": "Listar modelos disponibles",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/predict/models/available",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "predict", "models", "available"]
            }
          },
          "response": []
        },
        {
          "name": "Entrenar modelos de predicción",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"fase_id\": {{id_fase}}\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/{{api_version}}/predict/train",
              "host": ["{{base_url}}"],
              "path": ["api", "{{api_version}}", "predict", "train"]
            },
            "description": "Entrena los modelos de predicción para una fase y guarda los artefactos en disco."
          },
          "response": []
        }
			]
		}
  ],
  "variable": [
    { "key": "base_url", "value": "http://localhost:5000", "type": "string" },
    { "key": "api_version", "value": "v1", "type": "string" },
    { "key": "codigo_proyecto", "value": "COD123", "type": "string" },
    { "key": "id_proyecto", "value": "1", "type": "string" },
    { "key": "id_unidad", "value": "1", "type": "string" },
    { "key": "id_fase", "value": "1", "type": "string" },
    { "key": "id_item", "value": "1", "type": "string" },
    { "key": "alcance", "value": "Segunda calzada", "type": "string" }
  ]
}
